
#!/bin/bash

#Uncomment the language 
nano /etc/locale.gen
locale-gen
echo LANG=en_US.UTF-8 > /etc/locale.conf
export LANG=en_US.UTF-8

#Change Time
ln -s /usr/share/zoneinfo/US > /etc/localtime
hwclock --systohc --utc

#add host name
echo phantom > /etc/hostname

#uncomment Include=/etc/pacman.d/mirrorlist
nano /etc/pacman.conf

#Installing Blackarch linux
wget -O /tmp/strap.sh http://blackarch.org/strap.sh
cd /tmp
chmod 777 strap.sh
./strap.sh

pacman -S blackarch --force

passwd
useradd -m -g users -G wheel,storage,power -s /bin/bash phantom
passwd phantom
pacman -S sudo

#Uncomment %wheel ALL=(ALL) ALL
EDITOR=nano visudo
pacman -S bash-completion

#Install grub
pacman -S grub 
grub-install --target=i386-pc --recheck /dev/sda
pacman -S os-prober 
grub-mkconfig -o /boot/grub/grub.cfg

#install some base stuff like graphics (Intel integrated graphics)
pacman -S xf86-input-synaptics 
pacman -S xorg-server xorg-server-utils xorg-xinit xorg-twm xorg-xclock xterm 
pacman -S mesa
pacman -S lib32-mesa-libgl
pacman -S firefox
pacman -S libreoffice
pacman -S vim
pacman -S sublime-text
pacman -S eclipse-java
pacman -S bleachbit

#Install yubiPam for authentication and yubikey personalization tool
cd /usr/local/src
git clone https://github.com/firnsy/yubipam.git
cd yubipam
autoreconf -i
./configure
make install
groupadd yubiauth
touch /etc/yubikey
chgrp yubiauth /etc/yubikey /usr/local/sbin/yk_chkpwd
chmod g+rw /etc/yubikey
chmod g+s /usr/local/sbin/yk_chkpwd
pacman -S yubikey-personalization-gui

#install Java
pacman -S jre7-openjdk-headless jre7-openjdk jdk7-openjdk openjdk7-doc openjdk7-src jre8-openjdk-headless jre8-openjdk jdk8-openjdk openjdk8-doc openjdk8-src java-openjfx java-openjfx-doc java-openjfx-src

#install networkmanager
pacman -S networkmanager networkmanager-openconnect networkmanager-openvpn networkmanager-pptp networkmanager-vpnc wpa_supplicant wireless_tools dialog gnome-keyring

#Install gnome desktop environment 
sudo pacman -S gnome gnome-extra
sudo pacman -S gnome-tweak-tool
exit
